# ===========================================
# Podcast Search Engine - Environment Config
# ===========================================
# Copy this file to .env and fill in your values

# ============ Database ============
DATABASE_URL=postgresql://podcast:podcast@localhost:5432/podcast_search

# ============ Redis ============
# For caching and Celery task queue
REDIS_URL=redis://localhost:6379/0

# ============ Vector Database ============
QDRANT_HOST=localhost
QDRANT_PORT=6333
# QDRANT_API_KEY=  # Optional, for Qdrant Cloud

# ============ Required API Keys ============
# OpenAI - for embeddings (text-embedding-3-small)
OPENAI_API_KEY=sk-...

# Anthropic - for speaker labeling and chat (Claude)
ANTHROPIC_API_KEY=sk-ant-...

# ============ Transcription Providers ============
# At least one is required for transcription

# AssemblyAI ($0.37/hr, best accuracy)
ASSEMBLYAI_API_KEY=
ASSEMBLYAI_MAX_CONCURRENT=32

# Deepgram ($0.26/hr, fast)
DEEPGRAM_API_KEY=
DEEPGRAM_MAX_CONCURRENT=50

# Default provider to use
# Options: assemblyai, deepgram, faster-whisper, modal-cloud
DEFAULT_TRANSCRIPTION_PROVIDER=assemblyai

# ============ Local Transcription (Faster-Whisper) ============
# FREE - uses your local CPU/GPU
# Models: tiny, base, small, medium, large-v2, large-v3
FASTER_WHISPER_MODEL=large-v3
# Device: auto (recommended), cuda, cpu
FASTER_WHISPER_DEVICE=auto
# Compute type: auto (recommended), float16, int8, int8_float16
FASTER_WHISPER_COMPUTE_TYPE=auto
FASTER_WHISPER_MAX_CONCURRENT=2

# ============ Modal Cloud GPU (Optional) ============
# ~$0.03/hr, 70-200x realtime speed
# Run `modal token new` to authenticate
MODAL_WHISPER_MODEL=large-v3
# GPU options: T4 (cheapest), A10G (balanced), A100 (fastest)
MODAL_GPU_TYPE=A10G
MODAL_MAX_CONCURRENT=10

# ============ Speaker Diarization ============
# HuggingFace token for pyannote.audio (speaker diarization)
# Get yours at: https://huggingface.co/settings/tokens
# Required for speaker diarization with Faster-Whisper
HF_TOKEN=

# ============ Application ============
ENVIRONMENT=development
# Change this in production!
ADMIN_SECRET=change-me-in-production
# Public URL for the frontend
PUBLIC_URL=http://localhost:3000

# ============ Optional ============
# Sentry error tracking
# SENTRY_DSN=

# Embedding model
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSIONS=1536

# Claude model for chat and speaker labeling
ANTHROPIC_MODEL=claude-sonnet-4-20250514

# Chunking settings
CHUNK_SIZE=500
CHUNK_OVERLAP=50

# Original OpenAI Whisper (slower than faster-whisper)
WHISPER_MODEL=large-v3
WHISPER_DEVICE=cpu
WHISPER_MAX_CONCURRENT=2
